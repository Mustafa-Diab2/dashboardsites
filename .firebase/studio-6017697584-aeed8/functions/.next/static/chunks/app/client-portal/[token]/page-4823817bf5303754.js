(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[223],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>a});var s=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function a(...e){return t=>{let r=!1,s=e.map(e=>{let s=n(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():n(e[t],null)}}}}function l(...e){return s.useCallback(a(...e),e)}},8376:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},15300:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},24944:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var s=r(95155),n=r(12115),a=r(55863),l=r(59434);let i=n.forwardRef((e,t)=>{let{className:r,value:n,...i}=e;return(0,s.jsx)(a.bL,{ref:t,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...i,children:(0,s.jsx)(a.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});i.displayName=a.bL.displayName},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(95155);r(12115);var n=r(74466),a=r(59434);let l=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:r}),t),...n})}},32950:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(95155),n=r(12115),a=r(35317),l=r(23915),i=r(93004),d=r(87358);let o={apiKey:d.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:d.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:d.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,appId:d.env.NEXT_PUBLIC_FIREBASE_APP_ID},c=(0,l.Dk)().length?(0,l.Sx)():(0,l.Wp)(o);(0,i.xI)(c);let u=(0,a.aU)(c);var m=r(66695),f=r(26126),x=r(24944),p=r(15300),h=r(8376),v=r(37648),j=r(88390);function g(e){let{params:t}=e,[r,l]=(0,n.useState)(null),[i,d]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0),[g,N]=(0,n.useState)(null);async function y(){try{let e=(0,a.rJ)(u,"clients"),r=(0,a.P)(e,(0,a._M)("publicToken","==",t.token)),s=await (0,a.GG)(r);if(s.empty){N("Invalid access token"),c(!1);return}let n={id:s.docs[0].id,...s.docs[0].data()};l(n);let i=(0,a.rJ)(u,"tasks"),o=(0,a.P)(i,(0,a._M)("client_id","==",n.id)),m=(await (0,a.GG)(o)).docs.map(e=>({id:e.id,...e.data()}));d(m),c(!1)}catch(e){console.error("Error loading client data:",e),N("Failed to load data"),c(!1)}}if((0,n.useEffect)(()=>{y()},[t.token]),o)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})});if(g||!r)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)(m.Zp,{className:"max-w-md",children:[(0,s.jsx)(m.aR,{children:(0,s.jsx)(m.ZB,{className:"text-destructive",children:"Access Denied"})}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("p",{children:g||"Client not found"})})]})});let b=i.filter(e=>"done"===e.status).length,w=i.length,_=w>0?b/w*100:0,C=r.total_payment||0,k=r.paid_amount||0,E=C-k;return(0,s.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:r.name}),(0,s.jsx)("p",{className:"text-xl text-muted-foreground",children:r.project_name})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(m.Zp,{children:[(0,s.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"Total Tasks"}),(0,s.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:w})})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"Completed"}),(0,s.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:b})})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsxs)(m.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"In Progress"}),(0,s.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.filter(e=>"in_progress"===e.status).length})})]})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{children:(0,s.jsx)(m.ZB,{children:"Project Progress"})}),(0,s.jsxs)(m.Wu,{className:"space-y-4",children:[(0,s.jsx)(x.k,{value:_,className:"h-4"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[b," of ",w," tasks completed (",_.toFixed(0),"%)"]})]})]}),C>0&&(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{children:(0,s.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"h-5 w-5"}),"Payment Status"]})}),(0,s.jsxs)(m.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["$",C.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Paid"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",k.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Remaining"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:["$",E.toLocaleString()]})]})]}),(0,s.jsx)(x.k,{value:k/C*100,className:"h-2"})]})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{children:(0,s.jsx)(m.ZB,{children:"Tasks Overview"})}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium",children:e.title}),e.description&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[e.description.substring(0,100),e.description.length>100&&"..."]})]}),(0,s.jsx)(f.E,{variant:"done"===e.status?"default":"in_progress"===e.status?"secondary":"outline",children:e.status.replace("_"," ")})]},e.id))})})]})]})})}},37648:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},46081:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,q:()=>a});var s=r(12115),n=r(95155);function a(e,t){let r=s.createContext(t),a=e=>{let{children:t,...a}=e,l=s.useMemo(()=>a,Object.values(a));return(0,n.jsx)(r.Provider,{value:l,children:t})};return a.displayName=e+"Provider",[a,function(n){let a=s.useContext(r);if(a)return a;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function l(e,t=[]){let r=[],a=()=>{let t=r.map(e=>s.createContext(e));return function(r){let n=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return a.scopeName=e,[function(t,a){let l=s.createContext(a),i=r.length;r=[...r,a];let d=t=>{let{scope:r,children:a,...d}=t,o=r?.[e]?.[i]||l,c=s.useMemo(()=>d,Object.values(d));return(0,n.jsx)(o.Provider,{value:c,children:a})};return d.displayName=t+"Provider",[d,function(r,n){let d=n?.[e]?.[i]||l,o=s.useContext(d);if(o)return o;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:s})=>{let n=r(e)[`__scope${s}`];return{...t,...n}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(a,...t)]}},55863:(e,t,r)=>{"use strict";r.d(t,{C1:()=>y,bL:()=>N});var s=r(12115),n=r(46081),a=r(63540),l=r(95155),i="Progress",[d,o]=(0,n.A)(i),[c,u]=d(i),m=s.forwardRef((e,t)=>{var r,s,n,i;let{__scopeProgress:d,value:o=null,max:u,getValueLabel:m=p,...f}=e;(u||0===u)&&!j(u)&&console.error((r="".concat(u),s="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(s,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=j(u)?u:100;null===o||g(o,x)||console.error((n="".concat(o),i="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let N=g(o,x)?o:null,y=v(N)?m(N,x):void 0;return(0,l.jsx)(c,{scope:d,value:N,max:x,children:(0,l.jsx)(a.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":v(N)?N:void 0,"aria-valuetext":y,role:"progressbar","data-state":h(N,x),"data-value":null!=N?N:void 0,"data-max":x,...f,ref:t})})});m.displayName=i;var f="ProgressIndicator",x=s.forwardRef((e,t)=>{var r;let{__scopeProgress:s,...n}=e,i=u(f,s);return(0,l.jsx)(a.sG.div,{"data-state":h(i.value,i.max),"data-value":null!=(r=i.value)?r:void 0,"data-max":i.max,...n,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function h(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function j(e){return v(e)&&!isNaN(e)&&e>0}function g(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=f;var N=m,y=x},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(52596),n=r(39688);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},63540:(e,t,r)=>{"use strict";r.d(t,{sG:()=>u,hO:()=>m});var s=r(12115),n=r(47650),a=r(6101),l=r(95155),i=s.forwardRef((e,t)=>{let{children:r,...n}=e,a=s.Children.toArray(r),i=a.find(c);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,l.jsx)(d,{...n,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return(0,l.jsx)(d,{...n,ref:t,children:r})});i.displayName="Slot";var d=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(s.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),l=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{a(...e),n(...e)}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(l.ref=t?(0,a.t)(t,e):e),s.cloneElement(r,l)}return s.Children.count(r)>1?s.Children.only(null):null});d.displayName="SlotClone";var o=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function c(e){return s.isValidElement(e)&&e.type===o}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...n}=e,a=s?i:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(a,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function m(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>i});var s=r(95155),n=r(12115),a=r(59434);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});o.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},88390:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},91668:(e,t,r)=>{Promise.resolve().then(r.bind(r,32950))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,645,441,684,358],()=>t(91668)),_N_E=e.O()}]);