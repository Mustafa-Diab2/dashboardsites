"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{17313:(e,s,a)=>{a.d(s,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>l});var r=a(95155),i=a(12115),n=a(29932),t=a(59434);let l=n.bL,d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(n.B8,{ref:s,className:(0,t.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});d.displayName=n.B8.displayName;let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(n.l9,{ref:s,className:(0,t.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-card data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});o.displayName=n.l9.displayName;let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(n.UC,{ref:s,className:(0,t.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});c.displayName=n.UC.displayName},29384:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var r=a(95155),i=a(55028),n=a(11212),t=a(35317),l=a(12115),d=a(17104),o=a(93004),c=a(30285),u=a(62523),f=a(85057),m=a(66695),g=a(87481),p=a(17313),b=a(23915),x=a(57837);function v(){let[e,s]=(0,l.useState)(""),[a,i]=(0,l.useState)(""),[t,v]=(0,l.useState)(!1),h=(0,n.useAuth)(),{toast:y}=(0,g.dj)(),{t:j}=(0,x.o)(),N=e=>{let s=j("auth_failed_title"),a=j("auth_failed_desc");if(e instanceof b.g)switch(e.code){case"auth/user-not-found":s=j("user_not_found_title"),a=j("user_not_found_desc");break;case"auth/wrong-password":s=j("invalid_password_title"),a=j("invalid_password_desc");break;case"auth/invalid-email":s=j("invalid_email_title"),a=j("invalid_email_desc");break;case"auth/invalid-credential":s=j("invalid_credential_title"),a=j("invalid_credential_desc");break;default:a=e.message}else e instanceof Error&&(a=e.message);y({variant:"destructive",title:s,description:a})},w=async()=>{v(!0);try{if(!h)throw Error("Auth service not available");await (0,o.x9)(h,e,a)}catch(e){N(e)}finally{v(!1)}},_=e=>{"Enter"===e.key&&w()};return(0,r.jsx)("section",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:(0,r.jsxs)(p.tU,{defaultValue:"signin",className:"w-full max-w-md",children:[(0,r.jsx)(p.j7,{className:"grid w-full grid-cols-1",children:(0,r.jsx)(p.Xi,{value:"signin",children:j("sign_in")})}),(0,r.jsx)(p.av,{value:"signin",children:(0,r.jsxs)(m.Zp,{children:[(0,r.jsx)(m.aR,{children:(0,r.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"w-5 h-5"}),j("sign_in_continue")]})}),(0,r.jsx)(m.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.J,{htmlFor:"email-signin",children:j("email")}),(0,r.jsx)(u.p,{id:"email-signin",type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"you@company.com",onKeyDown:_})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(f.J,{htmlFor:"password-signin",children:j("password")}),(0,r.jsx)(u.p,{id:"password-signin",type:"password",value:a,onChange:e=>i(e.target.value),onKeyDown:_,placeholder:"••••••••"})]}),(0,r.jsxs)(c.$,{onClick:w,disabled:t,className:"w-full",children:[(0,r.jsx)(d.A,{className:"mr-2"}),t?j("signing_in"):j("sign_in")]})]})})]})})]})})}let h=(0,i.default)(()=>Promise.all([a.e(524),a.e(930),a.e(316),a.e(453),a.e(972)]).then(a.bind(a,4227)),{loadableGenerated:{webpack:()=>[4227]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsx)("p",{children:"Loading Dashboard..."})})});function y(){let{firestore:e,user:s,isUserLoading:a}=(0,n.useFirebase)(),i=(0,n.useMemoFirebase)(()=>e&&s?(0,t.H9)(e,"users",s.uid):null,[e,s]),{data:l,isLoading:d}=(0,n.useDoc)(i),o=null==l?void 0:l.role,c=(0,n.useMemoFirebase)(()=>e&&s?(null==l?void 0:l.role)==="admin"?(0,t.P)((0,t.rJ)(e,"tasks")):(0,t.P)((0,t.rJ)(e,"tasks"),(0,t._M)("assigned_to","array-contains",s.uid)):null,[e,s,l]),{data:u,isLoading:f}=(0,n.useCollection)(c),m=a||d||s&&f;return a?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsx)("p",{children:"Loading..."})}):s?m?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsx)("p",{children:"Loading Dashboard..."})}):(0,r.jsx)("div",{className:"min-h-screen bg-background text-foreground",children:(0,r.jsx)(h,{tasks:u||[],userRole:o})}):(0,r.jsx)(v,{})}},30285:(e,s,a)=>{a.d(s,{$:()=>o,r:()=>d});var r=a(95155),i=a(12115),n=a(66634),t=a(74466),l=a(59434);let d=(0,t.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,s)=>{let{className:a,variant:i,size:t,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:i,size:t,className:a})),ref:s,...c})});o.displayName="Button"},62523:(e,s,a)=>{a.d(s,{p:()=>t});var r=a(95155),i=a(12115),n=a(59434);let t=i.forwardRef((e,s)=>{let{className:a,type:i,...t}=e;return(0,r.jsx)("input",{type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...t})});t.displayName="Input"},66695:(e,s,a)=>{a.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>t,aR:()=>l});var r=a(95155),i=a(12115),n=a(59434);let t=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});t.displayName="Card";let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...i})});l.displayName="CardHeader";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});d.displayName="CardTitle";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...i})});o.displayName="CardDescription";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...i})});c.displayName="CardContent",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},85057:(e,s,a)=>{a.d(s,{J:()=>o});var r=a(95155),i=a(12115),n=a(40968),t=a(74466),l=a(59434);let d=(0,t.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,r.jsx)(n.b,{ref:s,className:(0,l.cn)(d(),a),...i})});o.displayName=n.b.displayName}}]);